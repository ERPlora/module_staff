{% load i18n %}

{% if staff_list %}
<ion-list>
    {% for member in staff_list %}
    <ion-item-sliding>
        <ion-item href="{% url 'staff:staff_detail' member.id %}" detail>
            <ion-avatar slot="start">
                {% if member.photo %}
                <img src="{{ member.photo.url }}" alt="{{ member.full_name }}">
                {% else %}
                <ion-icon name="person-circle-outline" style="font-size: 40px; color: var(--ion-color-medium);"></ion-icon>
                {% endif %}
            </ion-avatar>
            <ion-label>
                <h2>{{ member.full_name }}</h2>
                <p>{{ member.role.name|default:"-" }}{% if member.employee_id %} Â· {{ member.employee_id }}{% endif %}</p>
                {% if member.phone %}
                <p class="text-muted">{{ member.phone }}</p>
                {% endif %}
            </ion-label>
            <div slot="end" class="item-end-content">
                {% if member.is_bookable %}
                <ion-icon name="calendar-outline" color="primary" title="{% trans 'Bookable' %}"></ion-icon>
                {% endif %}
                <ion-badge color="{% if member.status == 'active' %}success{% elif member.status == 'on_leave' %}warning{% elif member.status == 'inactive' %}medium{% else %}danger{% endif %}">
                    {{ member.get_status_display }}
                </ion-badge>
            </div>
        </ion-item>

        <ion-item-options side="end">
            <ion-item-option color="primary" href="{% url 'staff:staff_edit' member.id %}">
                <ion-icon slot="icon-only" name="create-outline"></ion-icon>
            </ion-item-option>
            <ion-item-option color="danger"
                hx-delete="{% url 'staff:staff_delete' member.id %}"
                hx-confirm="{% trans 'Delete this staff member?' %}"
                hx-target="closest ion-item-sliding"
                hx-swap="outerHTML">
                <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
            </ion-item-option>
        </ion-item-options>
    </ion-item-sliding>
    {% endfor %}
</ion-list>
{% else %}
<div class="empty-state">
    <ion-icon name="people-outline"></ion-icon>
    <h3>{% trans "No Staff Members" %}</h3>
    <p>{% trans "Add your first staff member to get started" %}</p>
    <ion-button href="{% url 'staff:staff_create' %}">
        <ion-icon slot="start" name="add-outline"></ion-icon>
        {% trans "Add Staff Member" %}
    </ion-button>
</div>
{% endif %}

<style>
.item-end-content {
    display: flex;
    align-items: center;
    gap: 8px;
}

.empty-state {
    text-align: center;
    padding: 48px 16px;
    color: var(--ion-color-medium);
}

.empty-state ion-icon {
    font-size: 64px;
    margin-bottom: 16px;
}

.empty-state h3 {
    margin: 0 0 8px;
    color: var(--ion-text-color);
}
</style>
