{% load djicons i18n djicons djicons %}

{% if staff_members %}
<div class="list">
    {% for member in staff_members %}
    <a hx-get="{% url 'staff:detail' member.id %}"
       hx-target="#main-content-area"
       hx-push-url="true"
       class="list-item list-item-clickable">
        <div class="list-item-start">
            {% if member.photo %}
            <img src="{{ member.photo.url }}" alt="{{ member.full_name }}"
                 class="w-10 h-10 rounded-full object-cover">
            {% else %}
            <div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center">
                <span class="text-sm font-semibold text-primary">{{ member.first_name|first }}{{ member.last_name|first }}</span>
            </div>
            {% endif %}
        </div>
        <div class="list-item-content">
            <div class="list-item-label">
                {{ member.full_name }}
                {% if member.is_bookable %}
                <span class="text-primary ml-1" title="{% trans 'Bookable' %}">{% icon "calendar-outline" css_class="text-sm" %}</span>
                {% endif %}
            </div>
            <div class="list-item-note">
                {{ member.role.name|default:"-" }}
                {% if member.employee_id %} &middot; {{ member.employee_id }}{% endif %}
                {% if member.phone %} &middot; {{ member.phone }}{% endif %}
            </div>
        </div>
        <div class="list-item-end">
            <span class="badge badge-sm color-{% if member.status == 'active' %}success{% elif member.status == 'on_leave' %}warning{% elif member.status == 'inactive' %}medium{% else %}error{% endif %}">
                {{ member.get_status_display }}
            </span>
        </div>
    </a>
    {% endfor %}
</div>
{% else %}
<div class="text-center py-12 text-muted">
    {% icon "people-outline" css_class="text-5xl block mx-auto mb-2" %}
    <p class="mt-2">{% trans "No staff members found" %}</p>
    <button class="btn btn-sm color-primary mt-3"
            hx-get="{% url 'staff:create' %}"
            hx-target="#main-content-area"
            hx-push-url="true">
        {% icon "add-outline" css_class="mr-1" %}
        {% trans "Add Staff Member" %}
    </button>
</div>
{% endif %}
